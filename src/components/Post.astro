---
import type { CollectionEntry } from "astro:content";

interface Props {
  post: CollectionEntry<"blog">;
  index: number;
}

const { post, index } = Astro.props;

const formattedDate = post.data.date.toLocaleDateString("en-US", {
  month: "short",
  day: "2-digit",
  year: "numeric",
});
const isPurple = index % 2 === 1;
const accent = isPurple ? "purple-600" : "black";
---

<article class={`border-t-4 px-8 pt-6 border-${accent} flex flex-col h-full`}>
  <div class="flex items-center justify-between mb-6">
    <span class={`font-pixel text-xs tracking-widest text-${accent}`}>
      {post.data.category}
    </span>

    <span class="font-pixel text-xs text-gray-400">
      {formattedDate}
    </span>
  </div>

  <h2 class="font-heading font-pixel text-xl leading-snug mb-4">
    {post.data.title}
  </h2>

  <p class="font-body font-serif text-gray-600 mb-8">
    {post.data.description}
  </p>

  <div class="flex items-center gap-6 mt-auto">
    <a
      href={`/blog/${post.slug}/`}
      class={`group font-pixel text-xs tracking-widest border-b-2 border-${accent} pb-2`}
    >
      READ ARTICLE
      <span
        class="inline-block relative top-px ml-2 transition-transform duration-200 group-hover:translate-x-1"
      >
        ->
      </span>
    </a>
  </div>
</article>
