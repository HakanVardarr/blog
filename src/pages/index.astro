---
import Main from "../layouts/Main.astro";
import Latest from "../components/Latest.astro";
import Footer from "../components/Footer.astro";

import { getCollection } from "astro:content";
import Posts from "../components/Posts.astro";

const posts = await getCollection("blog");
const sortedPosts = posts.sort(
  (a, b) => new Date(a.data.date).getTime() - new Date(b.data.date).getTime(),
);
const latestPost = sortedPosts.pop()!;
---

<Main title="Programming & Coding â€“ My Projects and Articles" active="home">
  <div class="max-w-6xl mx-auto py-15">
    <Latest post={latestPost} />
    <Posts posts={sortedPosts.reverse()} />
  </div>
  <Footer />
</Main>
